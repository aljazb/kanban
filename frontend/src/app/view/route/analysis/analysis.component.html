<div class="container">

  <div class="row">

    <div class="col-12" *ngIf="queryCollapsed.value">
      <button class="btn btn-primary pull-right mt-2" (click)="openQuery()">Search</button>
    </div>

    <div class="col-12" *ngIf="!queryCollapsed.value">
      <button class="btn btn-primary pull-right mt-2" (click)="closeQuery()">Hide</button>
    </div>

    <div class="col-12" *ngIf="!queryCollapsed.value">
      <app-analysis-query [query]="query" (onProjectSelected)="handleOnProjectSelect($event)"></app-analysis-query>
    </div>


    <div class="col-12 mt-2">

      <ngb-tabset>

        <ngb-tab title="Card workflow diagram">

          <ng-template ngbTabContent>
            <app-analysis-workflow [query]="query" [queryCollapsed]="queryCollapsed"></app-analysis-workflow>
          </ng-template>
        </ngb-tab>

      </ngb-tabset>

    </div>

  </div>

</div>
